{% extends "base.html" %}

{% block head_scripts %}
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/topology.css') }}">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/vis.min.css') }}">
{% endblock %}

{% block app_content %}
<h2>Topology View</h2>
<div id="topology"></div>
<div class="container-fluid">
    <div class="row">
        <div class="card mt-3 p-2 w-100">
            <form class="mt-2 p-2 w-30">
                <div class="form-row">
                    <div class="col-3">
                        <label for="prefixInput">Prefix</label>
                        <input type="text" class="form-control" id="prefixInput" aria-describedby="prefixHelp" placeholder="eg. 192.0.2.0/24">
                    </div>
                    <div class="col-3">
                        <label for="nexthopInput">Next Hop</label>
                        <input type="text" class="form-control" id="nexthopInput" placeholder="eg. 192.0.2.33">
                    </div>
                </div>
                <pre id="label_path" class="p-3">Label Path: </pre>
                <div class="mt-2 float-right">
                    <div class="col-auto">
                        <button type="submit" class="btn btn-primary mb-2" id="recordPathBtn">Record Path</button>
                        <button type="submit" class="btn btn-primary mb-2" id="clearPathBtn">Clear</button>
                        <button type="submit" class="btn btn-success mb-2" id="deployBtn">Deploy</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div id="ted_topology_div">
    <h4 class="p-2 mt-2">TED Topology via Database</h4>
    <div class="p-3 mb-2 alert alert-secondary">
        <pre>{{ ted }}</pre>
    </div>
</div>
{% endblock %}
{% block scripts %}
    <script>
        var topology_details = JSON.parse('{{ ted_json | tojson | safe}}');
    </script>
    <script src="/static/js/vis-network.min.js" type="text/javascript"></script>
    <script src="/static/js/vis.min.js" type="text/javascript"></script>
    <script src="/static/js/topology.js" type="text/javascript"></script>
{% endblock %}
